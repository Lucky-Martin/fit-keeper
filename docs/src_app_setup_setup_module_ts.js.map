{"version":3,"file":"src_app_setup_setup_module_ts.js","mappings":"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","sources":["./src/app/setup/setup-routing.module.ts","./src/app/setup/setup.module.ts","./src/app/setup/setup.page.ts","./src/app/setup/user.model.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SetupPage } from './setup.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SetupPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SetupPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SetupPageRoutingModule } from './setup-routing.module';\n\nimport { SetupPage } from './setup.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SetupPageRoutingModule\n  ],\n  declarations: [SetupPage]\n})\nexport class SetupPageModule {}\n","import {AfterViewInit, Component, ViewChild} from '@angular/core';\r\nimport {Router} from '@angular/router';\r\nimport {IonSlides, ToastController} from '@ionic/angular';\r\nimport {TrackingService} from '../home/tracker/tracking.service';\r\nimport {User} from './user.model';\r\nimport {UserService} from './user.service';\r\n\r\n@Component({\r\n  selector: 'app-setup',\r\n  templateUrl: './setup.page.html',\r\n  styleUrls: ['./setup.page.scss'],\r\n})\r\nexport class SetupPage implements AfterViewInit {\r\n  @ViewChild(IonSlides) private slides: IonSlides;\r\n  user: User = new User();\r\n  private slideIndex = 1;\r\n\r\n  constructor(private toastController: ToastController,\r\n              private userService: UserService,\r\n              private trackingService: TrackingService,\r\n              private router: Router) { }\r\n\r\n  ngAfterViewInit() {\r\n    this.slides.lockSwipes(true);\r\n  }\r\n\r\n  selectGender(gender: string) {\r\n    this.user.gender = gender;\r\n  }\r\n\r\n  async nextSlide() {\r\n    switch(this.slideIndex) {\r\n      case 1:\r\n        if (!this.user.gender || !this.user.name || !this.user.age) {\r\n          return this.displayError('Моля попълнете всички данни!');\r\n        }\r\n\r\n        this.slideIndex = 2;\r\n        break;\r\n      case 2:\r\n        if (!this.user.height || !this.user.weight) {\r\n          return this.displayError('Моля попълнете всички данни!');\r\n        }\r\n\r\n        this.slideIndex = 3;\r\n        break;\r\n      case 3:\r\n        await this.userService.createUser(this.user);\r\n        this.trackingService.calculateCalorieGoal(this.user);\r\n        this.router.navigate(['/home']);\r\n        break;\r\n    }\r\n\r\n    this.slides.lockSwipes(false);\r\n    this.slides.slideNext().then(() => {\r\n      this.slides.lockSwipes(true);\r\n    });\r\n  }\r\n\r\n  private async displayError(message: string) {\r\n    const toast = await this.toastController.create({\r\n      position: 'bottom',\r\n      duration: 3000,\r\n      buttons: [\r\n        {\r\n          text: 'Dismiss',\r\n          role: 'cancel'\r\n        }\r\n      ],\r\n      message\r\n    });\r\n\r\n    await toast.present();\r\n  }\r\n}\r\n","export interface IUser {\r\n    name: string;\r\n    gender: string;\r\n    age: number;\r\n    height: number;\r\n    weight: number;\r\n    goal: string;\r\n    activity: string;\r\n}\r\n\r\nexport class User implements IUser {\r\n    name: string;\r\n    gender = 'male';\r\n    age: number;\r\n    height: number;\r\n    weight: number;\r\n    goal: string;\r\n    activity: string;\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}